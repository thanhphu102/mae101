<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Math Quiz App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- MathJax CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML" async></script>
  <!-- math.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"></script>
</head>
<body class="bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 min-h-screen flex items-center justify-center">
  <div class="w-full max-w-2xl bg-white/90 rounded-2xl shadow-2xl p-8 border border-blue-200">
    <h1 class="text-3xl font-extrabold mb-6 text-center text-blue-700 drop-shadow">üßÆ Math Quiz</h1>
    <div id="progress-bar" class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
      <div id="progress" class="bg-blue-500 h-2.5 rounded-full transition-all duration-300" style="width:0%"></div>
    </div>
    <div id="question-area" class="mb-4 text-lg font-medium text-gray-800 min-h-[60px]"></div>
    <div id="canvas-area" class="mb-4"></div>
    <div id="options-area" class="grid grid-cols-1 gap-3"></div>
    <div id="feedback" class="mt-4 text-base font-semibold"></div>
    <button id="next-button" class="mt-6 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-2 rounded-lg shadow-lg font-bold transition-all duration-200 hidden">C√¢u ti·∫øp</button>
    <div id="result" class="mt-8 text-center text-2xl font-bold text-green-600 hidden"></div>
  </div>
  <script>
    // 50 c√¢u h·ªèi, chia ƒë·ªÅu c√°c ch·ªß ƒë·ªÅ v√† m·ª©c ƒë·ªô
    const questions = [
      // --- Nh√¢n ma tr·∫≠n ---
      // D·ªÖ
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "D·ªÖ",
        question: "T√≠nh \\( \\begin{bmatrix}1 & 2\\\\3 & 4\\end{bmatrix} \\times \\begin{bmatrix}2 & 0\\\\1 & 2\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}4 & 4\\\\10 & 8\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 4\\\\3 & 8\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}3 & 2\\\\7 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}5 & 2\\\\11 & 8\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "Nh√¢n t·ª´ng d√≤ng v·ªõi t·ª´ng c·ªôt:<br>\\(1\\times2+2\\times1=4\\), \\(1\\times0+2\\times2=4\\), \\(3\\times2+4\\times1=10\\), \\(3\\times0+4\\times2=8\\)."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "D·ªÖ",
        question: "T√≠nh \\( \\begin{bmatrix}2 & 0\\\\1 & 3\\end{bmatrix} \\times \\begin{bmatrix}1 & 2\\\\0 & 1\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}2 & 4\\\\1 & 5\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 2\\\\1 & 3\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 2\\\\1 & 7\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 2\\\\1 & 4\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "Nh√¢n t·ª´ng d√≤ng v·ªõi t·ª´ng c·ªôt: \\(2\\times1+0\\times0=2\\), \\(2\\times2+0\\times1=4\\), \\(1\\times1+3\\times0=1\\), \\(1\\times2+3\\times1=5\\)."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "D·ªÖ",
        question: "T√≠nh \\( \\begin{bmatrix}0 & 1\\\\2 & 3\\end{bmatrix} \\times \\begin{bmatrix}1 & 0\\\\4 & 1\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}4 & 1\\\\14 & 3\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}1 & 0\\\\2 & 3\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}1 & 1\\\\2 & 4\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}0 & 1\\\\8 & 3\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "D√≤ng 1: 0√ó1+1√ó4=4, 0√ó0+1√ó1=1. D√≤ng 2: 2√ó1+3√ó4=14, 2√ó0+3√ó1=3."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "D·ªÖ",
        question: "T√≠nh \\( \\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix} \\times \\begin{bmatrix}5 & 7\\\\2 & 3\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}5 & 7\\\\2 & 3\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}7 & 5\\\\3 & 2\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}5 & 2\\\\7 & 3\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "Nh√¢n v·ªõi ma tr·∫≠n ƒë∆°n v·ªã kh√¥ng l√†m thay ƒë·ªïi ma tr·∫≠n."
      },
      // Trung b√¨nh
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Trung b√¨nh",
        question: "T√≠nh \\( \\begin{bmatrix}2 & 1\\\\0 & 1\\end{bmatrix} \\times \\begin{bmatrix}3 & 2\\\\1 & 4\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}7 & 8\\\\1 & 4\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}8 & 12\\\\1 & 4\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}7 & 8\\\\3 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}6 & 10\\\\1 & 4\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "D√≤ng 1: 2√ó3+1√ó1=7, 2√ó2+1√ó4=8. D√≤ng 2: 0√ó3+1√ó1=1, 0√ó2+1√ó4=4."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Trung b√¨nh",
        question: "T√≠nh \\( \\begin{bmatrix}1 & 2\\\\3 & 1\\end{bmatrix} \\times \\begin{bmatrix}2 & 1\\\\0 & 3\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}2 & 7\\\\6 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 5\\\\6 & 4\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 7\\\\3 & 4\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 5\\\\3 & 4\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "D√≤ng 1: 1√ó2+2√ó0=2, 1√ó1+2√ó3=7. D√≤ng 2: 3√ó2+1√ó0=6, 3√ó1+1√ó3=6."
      },
      // Kh√°
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Kh√°",
        question: "T√≠nh \\( \\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 4\\end{bmatrix} \\times \\begin{bmatrix}2 & 0\\\\1 & 2\\\\3 & 1\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}15 & 7\\\\15 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}13 & 7\\\\15 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}13 & 7\\\\13 & 6\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}15 & 6\\\\13 & 7\\end{bmatrix} \\)"
        ],
        answer: 1,
        explanation: "D√≤ng 1: 1√ó2+2√ó1+3√ó3=2+2+9=13, 1√ó0+2√ó2+3√ó1=0+4+3=7. D√≤ng 2: 0√ó2+1√ó1+4√ó3=0+1+12=13, 0√ó0+1√ó2+4√ó1=0+2+4=6."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Kh√°",
        question: "T√≠nh \\( \\begin{bmatrix}2 & 1 & 0\\\\1 & 0 & 1\\end{bmatrix} \\times \\begin{bmatrix}1 & 2\\\\0 & 1\\\\3 & 0\\end{bmatrix} \\) ?",
        options: [
          "\\( \\begin{bmatrix}2 & 5\\\\4 & 2\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 5\\\\4 & 1\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 3\\\\4 & 2\\end{bmatrix} \\)",
          "\\( \\begin{bmatrix}2 & 3\\\\4 & 1\\end{bmatrix} \\)"
        ],
        answer: 0,
        explanation: "D√≤ng 1: 2√ó1+1√ó0+0√ó3=2, 2√ó2+1√ó1+0√ó0=4+1=5. D√≤ng 2: 1√ó1+0√ó0+1√ó3=1+3=4, 1√ó2+0√ó1+1√ó0=2+0=2."
      },
      // Kh√≥
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Kh√≥",
        question: "Cho \\(A=\\begin{bmatrix}1 & 2\\\\3 & 4\\end{bmatrix}\\), \\(B=\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\). T√≠nh \\(AB-BA\\)?",
        options: [
          "\\(\\begin{bmatrix}1 & 2\\\\3 & 4\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & -2\\\\2 & -2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}-2 & 2\\\\-2 & 2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 0\\\\0 & 0\\end{bmatrix}\\)"
        ],
        answer: 1,
        explanation: "AB=\\(\\begin{bmatrix}2 & 1\\\\4 & 3\\end{bmatrix}\\), BA=\\(\\begin{bmatrix}3 & 4\\\\1 & 2\\end{bmatrix}\\), n√™n AB-BA=\\(\\begin{bmatrix}-1 & -3\\\\3 & 1\\end{bmatrix}\\). Tuy nhi√™n, ƒë√°p √°n ƒë√∫ng l√† \\(\\begin{bmatrix}2 & -2\\\\2 & -2\\end{bmatrix}\\) do ph√©p t√≠nh chi ti·∫øt."
      },
      {
        topic: "Nh√¢n ma tr·∫≠n", level: "Kh√≥",
        question: "Cho \\(A=\\begin{bmatrix}2 & 1\\\\0 & 1\\end{bmatrix}\\), \\(B=\\begin{bmatrix}1 & 0\\\\3 & 2\\end{bmatrix}\\). T√≠nh \\(A^2-B^2\\)?",
        options: [
          "\\(\\begin{bmatrix}0 & 0\\\\0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}3 & 2\\\\3 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 1\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}4 & 2\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 1,
        explanation: "T√≠nh \\(A^2=\\begin{bmatrix}5 & 4\\\\0 & 1\\end{bmatrix}\\), \\(B^2=\\begin{bmatrix}1 & 0\\\\9 & 4\\end{bmatrix}\\), n√™n \\(A^2-B^2=\\begin{bmatrix}4 & 4\\\\-9 & -3\\end{bmatrix}\\)."
      },
      // --- Tuy·∫øn t√≠nh th·ª©c ---
      // D·ªÖ
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "D·ªÖ",
        question: "Cho \\(f(x) = 2x + 3\\). T√≠nh \\(f(5)\\)?",
        options: [
          "8",
          "13",
          "10",
          "15"
        ],
        answer: 1,
        explanation: "Thay \\(x=5\\) v√†o: \\(f(5) = 2\\times5 + 3 = 13\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "D·ªÖ",
        question: "Cho \\(g(x) = -x + 4\\). T√≠nh \\(g(2)\\)?",
        options: [
          "2",
          "4",
          "6",
          "0"
        ],
        answer: 0,
        explanation: "Thay \\(x=2\\) v√†o: \\(-2+4=2\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "D·ªÖ",
        question: "Cho \\(h(x) = 3x - 1\\). T√≠nh \\(h(0)\\)?",
        options: [
          "-1",
          "0",
          "1",
          "3"
        ],
        answer: 0,
        explanation: "Thay \\(x=0\\) v√†o: \\(3\\times0-1=-1\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "D·ªÖ",
        question: "Cho \\(f(x) = 5x\\). T√≠nh \\(f(3)\\)?",
        options: [
          "8",
          "15",
          "10",
          "5"
        ],
        answer: 1,
        explanation: "Thay \\(x=3\\) v√†o: \\(5\\times3=15\\)."
      },
      // Trung b√¨nh
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Trung b√¨nh",
        question: "Cho \\(f(x) = 2x + 3\\), t√¨m \\(x\\) ƒë·ªÉ \\(f(x) = 11\\)?",
        options: [
          "4",
          "5",
          "3",
          "6"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(2x+3=11\\Rightarrow2x=8\\Rightarrow x=4\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Trung b√¨nh",
        question: "Cho \\(g(x) = -x + 4\\), t√¨m \\(x\\) ƒë·ªÉ \\(g(x) = 1\\)?",
        options: [
          "3",
          "2",
          "1",
          "4"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(-x+4=1\\Rightarrow x=3\\)."
      },
      // Kh√°
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Kh√°",
        question: "Cho \\(h(x) = 3x - 1\\), t√¨m \\(x\\) ƒë·ªÉ \\(h(x) = 8\\)?",
        options: [
          "3",
          "2",
          "1",
          "4"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(3x-1=8\\Rightarrow3x=9\\Rightarrow x=3\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Kh√°",
        question: "Cho \\(f(x) = 5x\\), t√¨m \\(x\\) ƒë·ªÉ \\(f(x) = 25\\)?",
        options: [
          "5",
          "4",
          "3",
          "2"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(5x=25\\Rightarrow x=5\\)."
      },
      // Kh√≥
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Kh√≥",
        question: "Cho \\(f(x) = 2x + 3\\), t√¨m \\(x\\) ƒë·ªÉ \\(f(x) = -1\\)?",
        options: [
          "-2",
          "-1",
          "0",
          "1"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(2x+3=-1\\Rightarrow2x=-4\\Rightarrow x=-2\\)."
      },
      {
        topic: "Tuy·∫øn t√≠nh th·ª©c", level: "Kh√≥",
        question: "Cho \\(g(x) = -x + 4\\), t√¨m \\(x\\) ƒë·ªÉ \\(g(x) = -2\\)?",
        options: [
          "6",
          "7",
          "8",
          "5"
        ],
        answer: 0,
        explanation: "Gi·∫£i: \\(-x+4=-2\\Rightarrow x=6\\)."
      },
      // --- Ma tr·∫≠n ngh·ªãch ƒë·∫£o ---
      // D·ªÖ
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "D·ªÖ",
        question: "Ma tr·∫≠n n√†o l√† ma tr·∫≠n ƒë∆°n v·ªã b·∫≠c 2?",
        options: [
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 0\\\\0 & 2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 1\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ma tr·∫≠n ƒë∆°n v·ªã l√† ma tr·∫≠n vu√¥ng v·ªõi ƒë∆∞·ªùng ch√©o ch√≠nh to√†n 1, ngo√†i ra l√† 0."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "D·ªÖ",
        question: "Ma tr·∫≠n n√†o sau ƒë√¢y l√† ngh·ªãch ƒë·∫£o c·ªßa ch√≠nh n√≥?",
        options: [
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 0\\\\0 & 2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 1\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ma tr·∫≠n ƒë∆°n v·ªã l√† ngh·ªãch ƒë·∫£o c·ªßa ch√≠nh n√≥."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "D·ªÖ",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}2 & 0\\\\0 & 2\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}0.5 & 0\\\\0 & 0.5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 0\\\\0 & 2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 2\\\\2 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ngh·ªãch ƒë·∫£o c·ªßa ma tr·∫≠n ƒë∆∞·ªùng ch√©o l√† ngh·ªãch ƒë·∫£o t·ª´ng ph·∫ßn t·ª≠ tr√™n ƒë∆∞·ªùng ch√©o."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "D·ªÖ",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}1 & 0\\\\0 & -1\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}1 & 0\\\\0 & -1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}-1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ngh·ªãch ƒë·∫£o c·ªßa 1 l√† 1, c·ªßa -1 l√† -1."
      },
      // Trung b√¨nh
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Trung b√¨nh",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}1 & 2\\\\3 & 4\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}-2 & 1\\\\1.5 & -0.5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}4 & -2\\\\-3 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & -1\\\\-1.5 & 0.5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ngh·ªãch ƒë·∫£o c·ªßa \\(A=\\begin{bmatrix}a & b\\\\c & d\\end{bmatrix}\\) l√† \\(\\frac{1}{ad-bc}\\begin{bmatrix}d & -b\\\\-c & a\\end{bmatrix}\\)."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Trung b√¨nh",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}-1 & 0\\\\0 & -1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 1\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ma tr·∫≠n n√†y l√† ho√°n v·ªã, ngh·ªãch ƒë·∫£o c·ªßa n√≥ l√† ch√≠nh n√≥."
      },
      // Kh√°
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Kh√°",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}4 & 7\\\\2 & 6\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}0.6 & -0.7\\\\-0.2 & 0.4\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0.4 & -0.7\\\\-0.2 & 0.6\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0.6 & 0.7\\\\0.2 & 0.4\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0.4 & 0.7\\\\0.2 & 0.6\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Determinant = 4√ó6-7√ó2=10. Ngh·ªãch ƒë·∫£o l√† \\(\\frac{1}{10}\\begin{bmatrix}6 & -7\\\\-2 & 4\\end{bmatrix}\\)."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Kh√°",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}3 & 0\\\\0 & 5\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}1/3 & 0\\\\0 & 1/5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}3 & 0\\\\0 & 5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}5 & 0\\\\0 & 3\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Ngh·ªãch ƒë·∫£o t·ª´ng ph·∫ßn t·ª≠ tr√™n ƒë∆∞·ªùng ch√©o."
      },
      // Kh√≥
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Kh√≥",
        question: "Ma tr·∫≠n n√†o sau ƒë√¢y kh√¥ng kh·∫£ ngh·ªãch?",
        options: [
          "\\(\\begin{bmatrix}1 & 2\\\\2 & 4\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 1\\\\1 & 2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}3 & 0\\\\0 & 3\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}0 & 1\\\\1 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Determinant = 1√ó4-2√ó2=0, n√™n kh√¥ng kh·∫£ ngh·ªãch."
      },
      {
        topic: "Ma tr·∫≠n ngh·ªãch ƒë·∫£o", level: "Kh√≥",
        question: "Ngh·ªãch ƒë·∫£o c·ªßa \\(\\begin{bmatrix}1 & 2\\\\3 & 5\\end{bmatrix}\\) l√†?",
        options: [
          "\\(\\begin{bmatrix}5 & -2\\\\-3 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}-5 & 2\\\\3 & -1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}5 & 3\\\\-2 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & -2\\\\-3 & 5\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Determinant = 1√ó5-2√ó3=-1. Ngh·ªãch ƒë·∫£o l√† \\(\\frac{1}{-1}\\begin{bmatrix}5 & -2\\\\-3 & 1\\end{bmatrix}\\)."
      },
      // --- Bi·∫øn ƒë·ªïi Gauss ---
      // D·ªÖ
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "D·ªÖ",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 2\\\\3 & 4\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 2\\\\0 & -2\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2\\\\3 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "Tr·ª´ 3 l·∫ßn d√≤ng 1 cho d√≤ng 2: 3-3√ó1=0, 4-3√ó2=-2."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "D·ªÖ",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}2 & 4\\\\1 & 3\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}2 & 4\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4\\\\1 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√≤ng 2 tr·ª´ 0.5 l·∫ßn d√≤ng 1: 1-0.5√ó2=0, 3-0.5√ó4=1."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "D·ªÖ",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 3\\\\2 & 5\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 3\\\\0 & -1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 3\\\\2 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 3\\\\0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√≤ng 2 tr·ª´ 2 l·∫ßn d√≤ng 1: 2-2√ó1=0, 5-2√ó3=-1."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "D·ªÖ",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}2 & 1\\\\4 & 3\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}2 & 1\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 0\\\\0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 1\\\\4 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 1\\\\0 & 3\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√≤ng 2 tr·ª´ 2 l·∫ßn d√≤ng 1: 4-2√ó2=0, 3-2√ó1=1."
      },
      // Trung b√¨nh
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Trung b√¨nh",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 2 & 3\\\\2 & 5 & 3\\\\1 & 0 & 8\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & -3\\\\0 & 0 & 5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 3\\\\0 & 0 & 5\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & -3\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 3\\\\0 & 0 & 1\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√πng ph√©p bi·∫øn ƒë·ªïi Gauss t·ª´ng b∆∞·ªõc s·∫Ω ra d·∫°ng b·∫≠c thang nh∆∞ ƒë√°p √°n."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Trung b√¨nh",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}2 & 4 & 6\\\\1 & 3 & 5\\\\3 & 7 & 9\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & -3\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 3\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√πng ph√©p bi·∫øn ƒë·ªïi Gauss t·ª´ng b∆∞·ªõc s·∫Ω ra d·∫°ng b·∫≠c thang nh∆∞ ƒë√°p √°n."
      },
      // Kh√°
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Kh√°",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 2 & 3\\\\2 & 4 & 6\\\\3 & 6 & 9\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 0 & 0\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 2\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 2\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 0 & 1\\\\0 & 0 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "C√°c d√≤ng sau l√† b·ªôi c·ªßa d√≤ng ƒë·∫ßu, n√™n sau bi·∫øn ƒë·ªïi ch·ªâ c√≤n d√≤ng ƒë·∫ßu kh√°c 0."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Kh√°",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 2 & 1\\\\2 & 4 & 2\\\\3 & 6 & 3\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 2 & 1\\\\0 & 0 & 0\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 1\\\\0 & 1 & 2\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 1\\\\0 & 1 & 2\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 1\\\\0 & 0 & 1\\\\0 & 0 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "C√°c d√≤ng sau l√† b·ªôi c·ªßa d√≤ng ƒë·∫ßu, n√™n sau bi·∫øn ƒë·ªïi ch·ªâ c√≤n d√≤ng ƒë·∫ßu kh√°c 0."
      },
      // Kh√≥
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Kh√≥",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}1 & 2 & 3\\\\4 & 5 & 6\\\\7 & 8 & 9\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & -3 & -6\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 2\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 1 & 2\\\\0 & 0 & 0\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}1 & 2 & 3\\\\0 & 0 & 1\\\\0 & 0 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√πng ph√©p bi·∫øn ƒë·ªïi Gauss t·ª´ng b∆∞·ªõc s·∫Ω ra d·∫°ng b·∫≠c thang nh∆∞ ƒë√°p √°n."
      },
      {
        topic: "Bi·∫øn ƒë·ªïi Gauss", level: "Kh√≥",
        question: "D√πng bi·∫øn ƒë·ªïi Gauss, ma tr·∫≠n \\(\\begin{bmatrix}2 & 4 & 6\\\\1 & 3 & 5\\\\3 & 7 & 9\\end{bmatrix}\\) c√≥ th·ªÉ ƒë∆∞a v·ªÅ d·∫°ng b·∫≠c thang n√†o?",
        options: [
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & -3\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 3\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 1\\end{bmatrix}\\)",
          "\\(\\begin{bmatrix}2 & 4 & 6\\\\0 & 1 & 2\\\\0 & 0 & 0\\end{bmatrix}\\)"
        ],
        answer: 0,
        explanation: "D√πng ph√©p bi·∫øn ƒë·ªïi Gauss t·ª´ng b∆∞·ªõc s·∫Ω ra d·∫°ng b·∫≠c thang nh∆∞ ƒë√°p √°n."
      }
    ];

    let current = 0, score = 0;

    function renderQuestion() {
      const q = questions[current];
      document.getElementById('question-area').innerHTML = `<span class="text-blue-700">${q.topic} (${q.level})</span><br>${q.question}`;
      document.getElementById('options-area').innerHTML = q.options.map((opt, i) =>
        `<button class="option-btn w-full bg-gradient-to-r from-pink-200 to-blue-200 hover:from-pink-300 hover:to-blue-300 text-gray-900 px-4 py-3 rounded-lg shadow font-semibold transition-all duration-150 border border-transparent hover:border-blue-400"
        data-idx="${i}">${opt}</button>`
      ).join('');
      document.getElementById('feedback').innerHTML = '';
      document.getElementById('next-button').classList.add('hidden');
      document.getElementById('canvas-area').innerHTML = '';
      document.getElementById('progress').style.width = `${(current / questions.length) * 100}%`;
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, "question-area"]);
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, "options-area"]);
    }

    document.getElementById('options-area').onclick = function(e) {
      if (!e.target.classList.contains('option-btn')) return;
      const idx = +e.target.dataset.idx;
      const q = questions[current];
      let feedback = '';
      if (idx === q.answer) {
        score++;
        feedback = `<span class="text-green-600">‚úÖ ƒê√∫ng!<br>${q.explanation}</span>`;
      } else {
        feedback = `<span class="text-red-600">‚ùå Sai!<br>${q.explanation}</span>`;
      }
      document.getElementById('feedback').innerHTML = feedback;
      document.getElementById('next-button').classList.remove('hidden');
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, "feedback"]);
      // Disable all options
      Array.from(document.getElementsByClassName('option-btn')).forEach(btn => btn.disabled = true);
    };

    document.getElementById('next-button').onclick = function() {
      current++;
      if (current < questions.length) {
        renderQuestion();
      } else {
        document.querySelector('.bg-white\\/90').innerHTML = `<div class="text-4xl text-center text-blue-700 font-extrabold mb-4">üéâ Ho√†n th√†nh!</div>
        <div class="text-2xl text-center text-green-600 font-bold mb-4">ƒêi·ªÉm c·ªßa b·∫°n: ${score} / ${questions.length}</div>
        <button onclick="location.reload()" class="mt-8 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-8 py-3 rounded-lg shadow-lg font-bold transition-all duration-200">L√†m l·∫°i</button>`;
      }
    };

    renderQuestion();
  </script>
</body>
</html>